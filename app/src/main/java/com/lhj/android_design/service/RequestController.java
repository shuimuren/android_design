package  com.lhj.android_design.service;import android.os.Message;import  com.lhj.android_design.msgctrl.AbstractController;import  com.lhj.android_design.msgctrl.MsgDef;import  com.lhj.android_design.msgctrl.RxBus;import  com.lhj.android_design.service.response.UserInfoResult;import com.orhanobut.logger.Logger;import java.util.Map;import retrofit2.Call;/** * Created by lhj on 18/5/7 */public class RequestController extends AbstractController {    public RequestController() {        super();    }    private SpaService getSpaService(){        return RetrofitServiceFactory.getSpaService();    }    @Override    public boolean handleMessage(Message msg) {        switch (msg.what){            case MsgDef.MSG_DEF_GET_USER_INFO:                getUserInfo((Map<String,String>) msg.obj);                break;        }        return true;    }    private void getUserInfo(Map<String, String> obj) {        Call<UserInfoResult> call = getSpaService().getUserInfo(NetworkConstant.KEY_TEST_TOKEN,"app");        call.enqueue(new TokenCheckedCallback<UserInfoResult>() {            @Override            protected void postResult(UserInfoResult result) {                RxBus.getInstance().post(result);            }        });    }}